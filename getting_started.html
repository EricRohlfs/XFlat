<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Getting Started Guide</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
  <div class="wrapper">
	<header>
        <h1 class="header">Xflat</h1>
        <p class="header">A simple but powerful embedded XML object DB.</p>

        <ul>
		  <li class="download"><a class="buttons" href="https://sourceforge.net/projects/xflatdb/">Download JAR</a></li>
          <li class="download"><a class="buttons" href="https://github.com/gburgett/XFlat/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/gburgett/XFlat/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/gburgett/XFlat">View On GitHub</a></li>
        </ul>
		
		<p>
			<a href="index.html">Home</a><br/>			
			<a href="examples.html">Examples</a><br/>
			<a href="javadoc/1.0.0/index.html">Javadoc</a>
		</p>
		
		<img src="https://travis-ci.org/gburgett/XFlat.png?branch=master,release"/>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/gburgett">Gordon Burgett</a></p>
		<img src="images/gordon_dot_burgett.png" id="em" />


      </header>
    <section>
		<h3>Getting Started</h3>
		
		<a name="dependencies"><h4>Dependencies</h4></a>
		You will need the following JARs to use XFlat:
		<ul>
			<li><a href="http://www.jdom.org/downloads/index.html">jdom-2.0.4.jar</a> or newer</li>
			<li><a href="http://code.google.com/p/hamcrest/downloads/list?can=2&q=label%3AJava">hamcrest-core-1.3.jar</a> or newer</li>
			<li><a href="http://code.google.com/p/hamcrest/downloads/list?can=2&q=label%3AJava">hamcrest-library-1.3.jar</a> or newer</li>
			<li><a href="http://commons.apache.org/logging/download_logging.cgi">commons-logging-1.1.1.jar</a> or newer</li>
		</ul>
		<p/>
		If you want to use queries involving XPath expressions, you will need an XPath library.  I recommend Jaxen.  
		<ul>
			<li><a href="http://jaxen.codehaus.org/">jaxen-1.1.4.jar</a> or newer</li>
		</ul>
		Note that while you do not strictly need Jaxen to run XFlat, you will not be able to use the following features without it:
		<ul>
			<li>Any operations using XPathQuery</li>
			<li>Any operations using XPathUpdate</li>
			<li>Sharded Tables</li>
		</ul>
		<p/>
		If you want to take advantage of automatic POJO mapping using JAXB, you will need the JAXB Reference Implementation jars.
		You do not need JAXB if you register your own conversions with the database's conversion service.
		<ul>
			<li><a href="http://jaxb.java.net/">jaxb-api.jar</a></li>
			<li><a href="http://jaxb.java.net/">jaxb-impl.jar</a></li>
			<li><a href="http://jaxb.java.net/">jaxb-xjc.jar</a></li>
		</ul>
				
		<p/>
		
		<a name="setup"><h4>Setup</h4></a>
		
		Creating an XFlat instance with the default configuration is incredibly easy, simply point it to the directory where you want it to store your data, then call initialize.  No configuration
		is necessary if you are okay with the default options.
<div class="highlight"><pre><span class="n">XFlatDatabase</span> <span class="n">db</span> <span class="o">=</span> <span class="k">new</span> <span class="n">XFlatDatabase</span><span class="o">(</span><span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"myDataDirectory"</span><span class="o">));</span>
<span class="c1">//initialize with default config</span>
<span class="n">db</span><span class="o">.</span><span class="na">initialize</span><span class="o">();</span></pre></div>

		If you need additional configuration options, set the database configuration before calling initialize.
<div class="highlight"><pre>TODO</pre></div>
		
		If you need to configure any tables, do that here as well.  Tables do not need to be configured in order to be used; they only need to be configured if you want to change the default settings.
<div class="highlight"><pre><span class="n">XFlatDatabase</span> <span class="n">db</span> <span class="o">=</span> <span class="k">new</span> <span class="n">XFlatDatabase</span><span class="o">(</span><span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"myDataDirectory"</span><span class="o">));</span>
<span class="c1">//do config before calling initialize</span>
<span class="n">db</span><span class="o">.</span><span class="na">configureTable</span><span class="o">(</span><span class="s">"Foo"</span><span class="o">,</span> <span class="n">TableConfig</span><span class="o">.</span><span class="na">defaultConfig</span>
<span class="o">.</span><span class="na">setIdGenerator</span><span class="o">(</span><span class="n">MyCustomIdGenerator</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>

<span class="n">db</span><span class="o">.</span><span class="na">initialize</span><span class="o">();</span></pre></div>
		
		If you have a custom serializer and deserializer, you can register that on the conversion service before calling initialize.
<div class="highlight"><pre><span class="n">XFlatDatabase</span> <span class="n">db</span> <span class="o">=</span> <span class="k">new</span> <span class="n">XFlatDatabase</span><span class="o">(</span><span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"myDataDirectory"</span><span class="o">));</span>
<span class="c1">//do config before calling initialize</span>
<span class="n">db</span><span class="o">.</span><span class="na">getConversionService</span><span class="o">().</span><span class="na">addConverter</span><span class="o">(</span><span class="n">Foo</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">Element</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="k">new</span> <span class="n">FooToElementConverter</span><span class="o">());</span>
<span class="n">db</span><span class="o">.</span><span class="na">getConversionService</span><span class="o">().</span><span class="na">addConverter</span><span class="o">(</span><span class="n">Element</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">Foo</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="k">new</span> <span class="n">ElementToFooConverter</span><span class="o">());</span>

<span class="n">db</span><span class="o">.</span><span class="na">initialize</span><span class="o">();</span></pre></div>
		
		The database configuration options are enumerated in the <a href="javadoc/1.0.0/org/xflatdb/xflat/DatabaseConfig.html">DatabaseConfig</a> class.<br/>
		The table configuration options are enumerated in the <a href="javadoc/1.0.0/org/xflatdb/xflat/TableConfig.html">TableConfig</a> class.
		
		
		
	</section>

	<footer>
		<p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
	</footer>
	</div>
	</body>
</html>